#include "CControlFSM.h"

int main()
{
	CControlFSM myFSM;

	CMessage msg(EEvent::INIT);
	CMessage timer(EEvent::TIMER_TICK);
	myFSM.dispatch(msg);
	msg = CMessage(EEvent::RUN_SENSOR_MEASUREMENT);
	myFSM.dispatch(msg);
	myFSM.dispatch(timer);
	myFSM.dispatch(timer);
	CMessage clientDC = CMessage(EEvent::CLIENT_DISCONNECT);
	myFSM.dispatch(clientDC);
	msg = CMessage(EEvent::RUN_ADC_MEASUREMENT);
	myFSM.dispatch(msg);
	msg = CMessage(EEvent::SET_TORQUE);
	myFSM.dispatch(msg);
	myFSM.dispatch(timer);
	myFSM.dispatch(clientDC);
	msg = CMessage(EEvent::RUN_CPSI_IDENTIFICATION);
	return 0;
}
