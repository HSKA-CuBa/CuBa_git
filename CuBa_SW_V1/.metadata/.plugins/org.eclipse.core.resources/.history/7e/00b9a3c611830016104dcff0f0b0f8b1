/**
 * @file 	SCommComponent.cpp
 * @author 	Michael Meindl
 * @date	25.9.2016
 * @brief	Class definitions of SCommComponent.
 */
#include "SCommComponent.h"
#include <iostream>
#include <new>

void SCommComponent::init()
{
	std::cout << "[*] Comm-Component: Initializing" << std::endl;
	mProxyPtr = &(SProxy::getInstance());
}
void SCommComponent::run()
{
	std::cout << "[*] Comm-Component: Running" << std::endl;
}
static UInt8 sMemory[cMakeAlignmentSize(sizeof(SCommComponent))] = {0U};
SCommComponent* SCommComponent::sInstance = nullptr;
CMutex SCommComponent::sAcessMutex(true, true);
SCommComponent::SCommComponent() : mProxyPtr(nullptr)
{

}
SCommComponent& SCommComponent::getInstance()
{
	sAcessMutex.take(true);
	if(nullptr == sInstance)
	{
		sInstance = reinterpret_cast<SCommComponent*>(new(sMemory)SCommComponent);
	}
	sAcessMutex.give();
	return *sInstance;
}
