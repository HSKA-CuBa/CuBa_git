/**
 * @file	SProxy.cpp
 * @author	Michael Meindl
 * @date	25.9.2016
 * @brief	Method definitions for SProxy.
 */
#include "SProxy.h"
#include "SControlComponent.h"
#include <new>

SProxy* SProxy::sInstance = nullptr;
CMutex SProxy::sAccessMutex(false, true);
static UInt8 sMemory[cMakeAlignmentSize(sizeof(SProxy))] = {0U};
SProxy::SProxy()
{

}
SProxy& SProxy::getInstance()
{
	sAccessMutex.take(true);
	if(nullptr == sInstance)
	{
		sInstance = reinterpret_cast<SProxy*>(new(sMemory)SProxy);
	}
	sAccessMutex.give();
	return *sInstance;
}
